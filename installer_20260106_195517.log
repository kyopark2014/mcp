2026-01-06 19:55:17 - INFO - ============================================================
2026-01-06 19:55:17 - INFO - Starting AWS Infrastructure Deployment
2026-01-06 19:55:17 - INFO - ============================================================
2026-01-06 19:55:17 - INFO - Project: mcp
2026-01-06 19:55:17 - INFO - Region: us-west-2
2026-01-06 19:55:17 - INFO - Account ID: 262976740991
2026-01-06 19:55:17 - INFO - Bucket Name: storage-for-mcp-262976740991-us-west-2
2026-01-06 19:55:17 - INFO - ============================================================
2026-01-06 19:55:17 - INFO - [1/9] Creating S3 bucket: storage-for-mcp-262976740991-us-west-2
2026-01-06 19:55:18 - WARNING - S3 bucket already exists: storage-for-mcp-262976740991-us-west-2
2026-01-06 19:55:18 - INFO - [2/9] Creating Knowledge Base IAM role
2026-01-06 19:55:19 - WARNING - IAM role already exists: role-knowledge-base-for-mcp-us-west-2
2026-01-06 19:55:21 - INFO - [2/9] Creating Agent IAM role
2026-01-06 19:55:21 - WARNING - IAM role already exists: role-agent-for-mcp-us-west-2
2026-01-06 19:55:22 - INFO - [2/9] Creating EC2 IAM role
2026-01-06 19:55:23 - WARNING - IAM role already exists: role-ec2-for-mcp-us-west-2
2026-01-06 19:55:27 - INFO - [2/9] Creating Lambda RAG IAM role
2026-01-06 19:55:27 - WARNING - IAM role already exists: role-lambda-rag-for-mcp-us-west-2
2026-01-06 19:55:29 - INFO - [2/9] Creating AgentCore Memory IAM role
2026-01-06 19:55:29 - WARNING - IAM role already exists: role-agentcore-memory-for-mcp-us-west-2
2026-01-06 19:55:30 - INFO - [3/9] Creating Secrets Manager secrets
2026-01-06 19:55:30 - INFO - Please enter API keys when prompted (press Enter to skip and leave empty):
2026-01-06 19:55:30 - WARNING -   Secret already exists: openweathermap-mcp
2026-01-06 19:55:30 - WARNING -   Secret already exists: langsmithapikey-mcp
2026-01-06 19:55:30 - WARNING -   Secret already exists: tavilyapikey-mcp
2026-01-06 19:55:31 - WARNING -   Secret already exists: perplexityapikey-mcp
2026-01-06 19:55:31 - WARNING -   Secret already exists: firecrawlapikey-mcp
2026-01-06 19:55:31 - WARNING -   Secret already exists: novaactapikey-mcp
2026-01-06 19:55:31 - WARNING -   Secret already exists: notionapikey-mcp
2026-01-06 19:55:31 - INFO - ✓ Created 7 secrets
2026-01-06 19:55:31 - INFO - [4/9] Creating OpenSearch Serverless collection
2026-01-06 19:55:32 - WARNING - OpenSearch collection already exists: mcp
2026-01-06 19:55:32 - INFO - OpenSearch collection created: {'arn': 'arn:aws:aoss:us-west-2:262976740991:collection/m73qrelw9bi3cv8bqgfe', 'endpoint': 'https://m73qrelw9bi3cv8bqgfe.us-west-2.aoss.amazonaws.com'}
2026-01-06 19:55:32 - INFO - [4.5/9] Creating Knowledge Base with OpenSearch collection
2026-01-06 19:55:32 - INFO -   Creating vector index in OpenSearch collection...
2026-01-06 19:55:32 - INFO - Found credentials in shared credentials file: ~/.aws/credentials
2026-01-06 19:55:33 - INFO -   Found 53 inference profiles
2026-01-06 19:55:33 - INFO -     us.anthropic.claude-3-haiku-20240307-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.anthropic.claude-3-haiku-20240307-v1:0)
2026-01-06 19:55:33 - INFO -     us.anthropic.claude-3-5-sonnet-20240620-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.anthropic.claude-3-5-sonnet-20240620-v1:0)
2026-01-06 19:55:33 - INFO -     us.anthropic.claude-3-sonnet-20240229-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.anthropic.claude-3-sonnet-20240229-v1:0)
2026-01-06 19:55:33 - INFO -     us.anthropic.claude-3-opus-20240229-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.anthropic.claude-3-opus-20240229-v1:0)
2026-01-06 19:55:33 - INFO -     us.meta.llama3-2-11b-instruct-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.meta.llama3-2-11b-instruct-v1:0)
2026-01-06 19:55:33 - INFO -     us.meta.llama3-2-90b-instruct-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.meta.llama3-2-90b-instruct-v1:0)
2026-01-06 19:55:33 - INFO -     us.meta.llama3-2-3b-instruct-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.meta.llama3-2-3b-instruct-v1:0)
2026-01-06 19:55:33 - INFO -     us.meta.llama3-2-1b-instruct-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.meta.llama3-2-1b-instruct-v1:0)
2026-01-06 19:55:33 - INFO -     us.anthropic.claude-3-5-haiku-20241022-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.anthropic.claude-3-5-haiku-20241022-v1:0)
2026-01-06 19:55:33 - INFO -     us.meta.llama3-1-8b-instruct-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.meta.llama3-1-8b-instruct-v1:0)
2026-01-06 19:55:33 - INFO -     us.meta.llama3-1-70b-instruct-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.meta.llama3-1-70b-instruct-v1:0)
2026-01-06 19:55:33 - INFO -     us.meta.llama3-3-70b-instruct-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.meta.llama3-3-70b-instruct-v1:0)
2026-01-06 19:55:33 - INFO -     us.deepseek.r1-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.deepseek.r1-v1:0)
2026-01-06 19:55:33 - INFO -     us.mistral.pixtral-large-2502-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.mistral.pixtral-large-2502-v1:0)
2026-01-06 19:55:33 - INFO -     us.writer.palmyra-x4-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.writer.palmyra-x4-v1:0)
2026-01-06 19:55:33 - INFO -     us.writer.palmyra-x5-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.writer.palmyra-x5-v1:0)
2026-01-06 19:55:33 - INFO -     us.meta.llama4-maverick-17b-instruct-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.meta.llama4-maverick-17b-instruct-v1:0)
2026-01-06 19:55:33 - INFO -     us.meta.llama4-scout-17b-instruct-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.meta.llama4-scout-17b-instruct-v1:0)
2026-01-06 19:55:33 - INFO -     us.amazon.nova-premier-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.amazon.nova-premier-v1:0)
2026-01-06 19:55:33 - INFO -     us.anthropic.claude-opus-4-20250514-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.anthropic.claude-opus-4-20250514-v1:0)
2026-01-06 19:55:33 - INFO -     global.anthropic.claude-sonnet-4-20250514-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/global.anthropic.claude-sonnet-4-20250514-v1:0)
2026-01-06 19:55:33 - INFO -     us.stability.stable-conservative-upscale-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.stability.stable-conservative-upscale-v1:0)
2026-01-06 19:55:33 - INFO -     us.stability.stable-creative-upscale-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.stability.stable-creative-upscale-v1:0)
2026-01-06 19:55:33 - INFO -     us.stability.stable-fast-upscale-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.stability.stable-fast-upscale-v1:0)
2026-01-06 19:55:33 - INFO -     us.stability.stable-image-control-sketch-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.stability.stable-image-control-sketch-v1:0)
2026-01-06 19:55:33 - INFO -     us.stability.stable-image-control-structure-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.stability.stable-image-control-structure-v1:0)
2026-01-06 19:55:33 - INFO -     us.stability.stable-image-erase-object-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.stability.stable-image-erase-object-v1:0)
2026-01-06 19:55:33 - INFO -     us.stability.stable-image-inpaint-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.stability.stable-image-inpaint-v1:0)
2026-01-06 19:55:33 - INFO -     us.stability.stable-image-remove-background-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.stability.stable-image-remove-background-v1:0)
2026-01-06 19:55:33 - INFO -     us.stability.stable-image-search-recolor-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.stability.stable-image-search-recolor-v1:0)
2026-01-06 19:55:33 - INFO -     us.stability.stable-image-search-replace-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.stability.stable-image-search-replace-v1:0)
2026-01-06 19:55:33 - INFO -     us.stability.stable-image-style-guide-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.stability.stable-image-style-guide-v1:0)
2026-01-06 19:55:33 - INFO -     us.stability.stable-outpaint-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.stability.stable-outpaint-v1:0)
2026-01-06 19:55:33 - INFO -     us.stability.stable-style-transfer-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.stability.stable-style-transfer-v1:0)
2026-01-06 19:55:33 - INFO -     us.anthropic.claude-3-7-sonnet-20250219-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.anthropic.claude-3-7-sonnet-20250219-v1:0)
2026-01-06 19:55:33 - INFO -     us.cohere.embed-v4:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.cohere.embed-v4:0)
2026-01-06 19:55:33 - INFO -     global.cohere.embed-v4:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/global.cohere.embed-v4:0)
2026-01-06 19:55:33 - INFO -     us.anthropic.claude-haiku-4-5-20251001-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.anthropic.claude-haiku-4-5-20251001-v1:0)
2026-01-06 19:55:33 - INFO -     us.twelvelabs.pegasus-1-2-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.twelvelabs.pegasus-1-2-v1:0)
2026-01-06 19:55:33 - INFO -     global.anthropic.claude-sonnet-4-5-20250929-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/global.anthropic.claude-sonnet-4-5-20250929-v1:0)
2026-01-06 19:55:33 - INFO -     us.amazon.nova-pro-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.amazon.nova-pro-v1:0)
2026-01-06 19:55:33 - INFO -     us.anthropic.claude-3-5-sonnet-20241022-v2:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.anthropic.claude-3-5-sonnet-20241022-v2:0)
2026-01-06 19:55:33 - INFO -     us.amazon.nova-micro-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.amazon.nova-micro-v1:0)
2026-01-06 19:55:33 - INFO -     global.anthropic.claude-haiku-4-5-20251001-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/global.anthropic.claude-haiku-4-5-20251001-v1:0)
2026-01-06 19:55:33 - INFO -     global.amazon.nova-2-lite-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/global.amazon.nova-2-lite-v1:0)
2026-01-06 19:55:33 - INFO -     us.amazon.nova-2-lite-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.amazon.nova-2-lite-v1:0)
2026-01-06 19:55:33 - INFO -     us.anthropic.claude-sonnet-4-20250514-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.anthropic.claude-sonnet-4-20250514-v1:0)
2026-01-06 19:55:33 - INFO -     us.amazon.nova-lite-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.amazon.nova-lite-v1:0)
2026-01-06 19:55:33 - INFO -     global.twelvelabs.pegasus-1-2-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/global.twelvelabs.pegasus-1-2-v1:0)
2026-01-06 19:55:33 - INFO -     us.anthropic.claude-opus-4-5-20251101-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.anthropic.claude-opus-4-5-20251101-v1:0)
2026-01-06 19:55:33 - INFO -     global.anthropic.claude-opus-4-5-20251101-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/global.anthropic.claude-opus-4-5-20251101-v1:0)
2026-01-06 19:55:33 - INFO -     us.anthropic.claude-sonnet-4-5-20250929-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.anthropic.claude-sonnet-4-5-20250929-v1:0)
2026-01-06 19:55:33 - INFO -     us.anthropic.claude-opus-4-1-20250805-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.anthropic.claude-opus-4-1-20250805-v1:0)
2026-01-06 19:55:45 - INFO -   Using alternative model: anthropic.claude-3-5-sonnet-20241022-v2:0
2026-01-06 19:55:45 - INFO -   Checking if Knowledge Base already exists...
2026-01-06 19:55:46 - INFO -   Knowledge Base does not exist. Creating new one...
2026-01-06 19:55:46 - INFO - ✓ Knowledge Base created: VGKXWK0UZJ
2026-01-06 19:55:46 - INFO -   Waiting for Knowledge Base to be active...
2026-01-06 19:55:57 - INFO -   Knowledge Base is now active
2026-01-06 19:55:57 - INFO -   Creating data source...
2026-01-06 19:55:57 - INFO -   ✓ Data source created: QHGARMLZHU
2026-01-06 19:55:57 - INFO - [5/9] Creating VPC and networking resources
2026-01-06 19:55:58 - INFO - Using CIDR block: 10.22.0.0/16
2026-01-06 19:55:58 - WARNING - VPC already exists: vpc-079e81539916b1b44
2026-01-06 19:55:59 - INFO - [6/9] Creating Application Load Balancer
2026-01-06 19:56:00 - WARNING - ALB already exists: alb-for-mcp-1714775071.us-west-2.elb.amazonaws.com
2026-01-06 19:56:00 - INFO - [7/9] Creating CloudFront distribution
2026-01-06 19:56:01 - WARNING - CloudFront distribution already exists: d2mb8d2u376165.cloudfront.net
2026-01-06 19:56:01 - INFO - [8/9] Creating EC2 instance
2026-01-06 19:56:01 - WARNING - EC2 instance already exists: i-0ca3ab5226f50b5cc
2026-01-06 19:56:01 - INFO - [9/9] Creating ALB target group and listener
2026-01-06 19:56:01 - WARNING -   Target group already exists: arn:aws:elasticloadbalancing:us-west-2:262976740991:targetgroup/TG-for-mcp/87ee236ba883e141
2026-01-06 19:56:01 - WARNING -   EC2 instance i-0ca3ab5226f50b5cc is already registered in target group
2026-01-06 19:56:02 - WARNING -   Listener already exists on port 80: arn:aws:elasticloadbalancing:us-west-2:262976740991:listener/app/alb-for-mcp/1188b1d75512fb27/2f6d0258ccf06d83
2026-01-06 19:56:02 - WARNING -   Rule with Priority 10 for custom header already exists: arn:aws:elasticloadbalancing:us-west-2:262976740991:listener-rule/app/alb-for-mcp/1188b1d75512fb27/2f6d0258ccf06d83/7c1c54243bb4c156
2026-01-06 19:56:02 - INFO - ✓ ALB target group and listener created
2026-01-06 19:56:02 - INFO -   Target group: arn:aws:elasticloadbalancing:us-west-2:262976740991:targetgroup/TG-for-mcp/87ee236ba883e141
2026-01-06 19:56:02 - INFO -   Listener: arn:aws:elasticloadbalancing:us-west-2:262976740991:listener/app/alb-for-mcp/1188b1d75512fb27/2f6d0258ccf06d83
2026-01-06 19:56:02 - INFO - 
2026-01-06 19:56:02 - INFO - ============================================================
2026-01-06 19:56:02 - INFO - Infrastructure Deployment Completed Successfully!
2026-01-06 19:56:02 - INFO - ============================================================
2026-01-06 19:56:02 - INFO - Summary:
2026-01-06 19:56:02 - INFO -   S3 Bucket: storage-for-mcp-262976740991-us-west-2
2026-01-06 19:56:02 - INFO -   VPC ID: vpc-079e81539916b1b44
2026-01-06 19:56:02 - INFO -   Public Subnets: subnet-0b24be1424eb70272, subnet-02c30d3af96b76442
2026-01-06 19:56:02 - INFO -   Private Subnets: subnet-0555a9ae725b69ebc, subnet-0322dc74f885e863c
2026-01-06 19:56:02 - INFO -   ALB DNS: http://alb-for-mcp-1714775071.us-west-2.elb.amazonaws.com/
2026-01-06 19:56:02 - INFO -   CloudFront Domain: https://d2mb8d2u376165.cloudfront.net
2026-01-06 19:56:02 - INFO -   EC2 Instance ID: i-0ca3ab5226f50b5cc (deployed in private subnet)
2026-01-06 19:56:02 - INFO -   OpenSearch Endpoint: https://m73qrelw9bi3cv8bqgfe.us-west-2.aoss.amazonaws.com
2026-01-06 19:56:02 - INFO -   Knowledge Base ID: VGKXWK0UZJ
2026-01-06 19:56:02 - INFO -   Knowledge Base Role: arn:aws:iam::262976740991:role/role-knowledge-base-for-mcp-us-west-2
2026-01-06 19:56:02 - INFO -   AgentCore Memory Role: arn:aws:iam::262976740991:role/role-agentcore-memory-for-mcp-us-west-2
2026-01-06 19:56:02 - INFO - 
2026-01-06 19:56:02 - INFO - Total deployment time: 0.74 minutes
2026-01-06 19:56:02 - INFO - ============================================================
2026-01-06 19:56:02 - INFO - Note: CloudFront distribution may take 15-20 minutes to fully deploy
2026-01-06 19:56:02 - INFO - Note: EC2 instance user data script will install and start the application
2026-01-06 19:56:02 - INFO - ============================================================
2026-01-06 19:56:02 - INFO - OpenSearch Collection ARN: arn:aws:aoss:us-west-2:262976740991:collection/m73qrelw9bi3cv8bqgfe
2026-01-06 19:56:02 - INFO - OpenSearch Collection Endpoint: https://m73qrelw9bi3cv8bqgfe.us-west-2.aoss.amazonaws.com
2026-01-06 19:56:02 - INFO - ✓ Updated application/config.json
2026-01-06 19:56:02 - INFO - ============================================================
2026-01-06 19:56:02 - INFO - 
2026-01-06 19:56:02 - INFO - ============================================================
2026-01-06 19:56:02 - INFO -   IMPORTANT: CloudFront Domain Address
2026-01-06 19:56:02 - INFO - ============================================================
2026-01-06 19:56:02 - INFO -  CloudFront URL: https://d2mb8d2u376165.cloudfront.net
2026-01-06 19:56:02 - INFO - 
2026-01-06 19:56:02 - INFO - Note: CloudFront distribution and agent application on EC2 instance may take 15-20 minutes to fully deploy
2026-01-06 19:56:02 - INFO -       Once deployed, you can access your application at the URL above
2026-01-06 19:56:02 - INFO - ============================================================
2026-01-06 19:56:02 - INFO - 
