2026-01-06 20:04:20 - INFO - ============================================================
2026-01-06 20:04:20 - INFO - Starting AWS Infrastructure Deployment
2026-01-06 20:04:20 - INFO - ============================================================
2026-01-06 20:04:20 - INFO - Project: mcp
2026-01-06 20:04:20 - INFO - Region: us-west-2
2026-01-06 20:04:20 - INFO - Account ID: 262976740991
2026-01-06 20:04:20 - INFO - Bucket Name: storage-for-mcp-262976740991-us-west-2
2026-01-06 20:04:20 - INFO - ============================================================
2026-01-06 20:04:20 - INFO - [1/9] Creating S3 bucket: storage-for-mcp-262976740991-us-west-2
2026-01-06 20:04:21 - WARNING - S3 bucket already exists: storage-for-mcp-262976740991-us-west-2
2026-01-06 20:04:21 - INFO - [2/9] Creating Knowledge Base IAM role
2026-01-06 20:04:22 - WARNING - IAM role already exists: role-knowledge-base-for-mcp-us-west-2
2026-01-06 20:04:23 - INFO - [2/9] Creating Agent IAM role
2026-01-06 20:04:23 - WARNING - IAM role already exists: role-agent-for-mcp-us-west-2
2026-01-06 20:04:25 - INFO - [2/9] Creating EC2 IAM role
2026-01-06 20:04:25 - WARNING - IAM role already exists: role-ec2-for-mcp-us-west-2
2026-01-06 20:04:30 - INFO - [2/9] Creating Lambda RAG IAM role
2026-01-06 20:04:30 - WARNING - IAM role already exists: role-lambda-rag-for-mcp-us-west-2
2026-01-06 20:04:32 - INFO - [2/9] Creating AgentCore Memory IAM role
2026-01-06 20:04:32 - WARNING - IAM role already exists: role-agentcore-memory-for-mcp-us-west-2
2026-01-06 20:04:33 - INFO - [3/9] Creating Secrets Manager secrets
2026-01-06 20:04:33 - INFO - Please enter API keys when prompted (press Enter to skip and leave empty):
2026-01-06 20:04:33 - WARNING -   Secret already exists: openweathermap-mcp
2026-01-06 20:04:33 - WARNING -   Secret already exists: langsmithapikey-mcp
2026-01-06 20:04:33 - WARNING -   Secret already exists: tavilyapikey-mcp
2026-01-06 20:04:34 - WARNING -   Secret already exists: perplexityapikey-mcp
2026-01-06 20:04:34 - WARNING -   Secret already exists: firecrawlapikey-mcp
2026-01-06 20:04:34 - WARNING -   Secret already exists: novaactapikey-mcp
2026-01-06 20:04:34 - WARNING -   Secret already exists: notionapikey-mcp
2026-01-06 20:04:34 - INFO - âœ“ Created 7 secrets
2026-01-06 20:04:34 - INFO - [4/9] Creating OpenSearch Serverless collection
2026-01-06 20:04:34 - WARNING - OpenSearch collection already exists: mcp
2026-01-06 20:04:35 - INFO - OpenSearch collection created: {'arn': 'arn:aws:aoss:us-west-2:262976740991:collection/m73qrelw9bi3cv8bqgfe', 'endpoint': 'https://m73qrelw9bi3cv8bqgfe.us-west-2.aoss.amazonaws.com'}
2026-01-06 20:04:35 - INFO - [4.5/9] Creating Knowledge Base with OpenSearch collection
2026-01-06 20:04:35 - INFO -   Creating vector index in OpenSearch collection...
2026-01-06 20:04:35 - INFO - Found credentials in shared credentials file: ~/.aws/credentials
2026-01-06 20:04:36 - INFO -   Found 53 inference profiles
2026-01-06 20:04:36 - INFO -     us.anthropic.claude-3-haiku-20240307-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.anthropic.claude-3-haiku-20240307-v1:0)
2026-01-06 20:04:36 - INFO -     us.anthropic.claude-3-5-sonnet-20240620-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.anthropic.claude-3-5-sonnet-20240620-v1:0)
2026-01-06 20:04:36 - INFO -     us.anthropic.claude-3-sonnet-20240229-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.anthropic.claude-3-sonnet-20240229-v1:0)
2026-01-06 20:04:36 - INFO -     us.anthropic.claude-3-opus-20240229-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.anthropic.claude-3-opus-20240229-v1:0)
2026-01-06 20:04:36 - INFO -     us.meta.llama3-2-11b-instruct-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.meta.llama3-2-11b-instruct-v1:0)
2026-01-06 20:04:36 - INFO -     us.meta.llama3-2-90b-instruct-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.meta.llama3-2-90b-instruct-v1:0)
2026-01-06 20:04:36 - INFO -     us.meta.llama3-2-3b-instruct-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.meta.llama3-2-3b-instruct-v1:0)
2026-01-06 20:04:36 - INFO -     us.meta.llama3-2-1b-instruct-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.meta.llama3-2-1b-instruct-v1:0)
2026-01-06 20:04:36 - INFO -     us.anthropic.claude-3-5-haiku-20241022-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.anthropic.claude-3-5-haiku-20241022-v1:0)
2026-01-06 20:04:36 - INFO -     us.meta.llama3-1-8b-instruct-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.meta.llama3-1-8b-instruct-v1:0)
2026-01-06 20:04:36 - INFO -     us.meta.llama3-1-70b-instruct-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.meta.llama3-1-70b-instruct-v1:0)
2026-01-06 20:04:36 - INFO -     us.meta.llama3-3-70b-instruct-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.meta.llama3-3-70b-instruct-v1:0)
2026-01-06 20:04:36 - INFO -     us.deepseek.r1-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.deepseek.r1-v1:0)
2026-01-06 20:04:36 - INFO -     us.mistral.pixtral-large-2502-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.mistral.pixtral-large-2502-v1:0)
2026-01-06 20:04:36 - INFO -     us.writer.palmyra-x4-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.writer.palmyra-x4-v1:0)
2026-01-06 20:04:36 - INFO -     us.writer.palmyra-x5-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.writer.palmyra-x5-v1:0)
2026-01-06 20:04:36 - INFO -     us.meta.llama4-maverick-17b-instruct-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.meta.llama4-maverick-17b-instruct-v1:0)
2026-01-06 20:04:36 - INFO -     us.meta.llama4-scout-17b-instruct-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.meta.llama4-scout-17b-instruct-v1:0)
2026-01-06 20:04:36 - INFO -     us.amazon.nova-premier-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.amazon.nova-premier-v1:0)
2026-01-06 20:04:36 - INFO -     us.anthropic.claude-opus-4-20250514-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.anthropic.claude-opus-4-20250514-v1:0)
2026-01-06 20:04:36 - INFO -     global.anthropic.claude-sonnet-4-20250514-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/global.anthropic.claude-sonnet-4-20250514-v1:0)
2026-01-06 20:04:36 - INFO -     us.stability.stable-conservative-upscale-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.stability.stable-conservative-upscale-v1:0)
2026-01-06 20:04:36 - INFO -     us.stability.stable-creative-upscale-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.stability.stable-creative-upscale-v1:0)
2026-01-06 20:04:36 - INFO -     us.stability.stable-fast-upscale-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.stability.stable-fast-upscale-v1:0)
2026-01-06 20:04:36 - INFO -     us.stability.stable-image-control-sketch-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.stability.stable-image-control-sketch-v1:0)
2026-01-06 20:04:36 - INFO -     us.stability.stable-image-control-structure-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.stability.stable-image-control-structure-v1:0)
2026-01-06 20:04:36 - INFO -     us.stability.stable-image-erase-object-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.stability.stable-image-erase-object-v1:0)
2026-01-06 20:04:36 - INFO -     us.stability.stable-image-inpaint-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.stability.stable-image-inpaint-v1:0)
2026-01-06 20:04:36 - INFO -     us.stability.stable-image-remove-background-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.stability.stable-image-remove-background-v1:0)
2026-01-06 20:04:36 - INFO -     us.stability.stable-image-search-recolor-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.stability.stable-image-search-recolor-v1:0)
2026-01-06 20:04:36 - INFO -     us.stability.stable-image-search-replace-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.stability.stable-image-search-replace-v1:0)
2026-01-06 20:04:36 - INFO -     us.stability.stable-image-style-guide-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.stability.stable-image-style-guide-v1:0)
2026-01-06 20:04:36 - INFO -     us.stability.stable-outpaint-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.stability.stable-outpaint-v1:0)
2026-01-06 20:04:36 - INFO -     us.stability.stable-style-transfer-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.stability.stable-style-transfer-v1:0)
2026-01-06 20:04:36 - INFO -     us.anthropic.claude-3-7-sonnet-20250219-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.anthropic.claude-3-7-sonnet-20250219-v1:0)
2026-01-06 20:04:36 - INFO -     us.cohere.embed-v4:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.cohere.embed-v4:0)
2026-01-06 20:04:36 - INFO -     global.cohere.embed-v4:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/global.cohere.embed-v4:0)
2026-01-06 20:04:36 - INFO -     us.anthropic.claude-haiku-4-5-20251001-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.anthropic.claude-haiku-4-5-20251001-v1:0)
2026-01-06 20:04:36 - INFO -     us.twelvelabs.pegasus-1-2-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.twelvelabs.pegasus-1-2-v1:0)
2026-01-06 20:04:36 - INFO -     global.anthropic.claude-sonnet-4-5-20250929-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/global.anthropic.claude-sonnet-4-5-20250929-v1:0)
2026-01-06 20:04:36 - INFO -     us.amazon.nova-pro-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.amazon.nova-pro-v1:0)
2026-01-06 20:04:36 - INFO -     us.anthropic.claude-3-5-sonnet-20241022-v2:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.anthropic.claude-3-5-sonnet-20241022-v2:0)
2026-01-06 20:04:36 - INFO -     us.amazon.nova-micro-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.amazon.nova-micro-v1:0)
2026-01-06 20:04:36 - INFO -     global.anthropic.claude-haiku-4-5-20251001-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/global.anthropic.claude-haiku-4-5-20251001-v1:0)
2026-01-06 20:04:36 - INFO -     global.amazon.nova-2-lite-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/global.amazon.nova-2-lite-v1:0)
2026-01-06 20:04:36 - INFO -     us.amazon.nova-2-lite-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.amazon.nova-2-lite-v1:0)
2026-01-06 20:04:36 - INFO -     us.anthropic.claude-sonnet-4-20250514-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.anthropic.claude-sonnet-4-20250514-v1:0)
2026-01-06 20:04:36 - INFO -     us.amazon.nova-lite-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.amazon.nova-lite-v1:0)
2026-01-06 20:04:36 - INFO -     global.twelvelabs.pegasus-1-2-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/global.twelvelabs.pegasus-1-2-v1:0)
2026-01-06 20:04:36 - INFO -     us.anthropic.claude-opus-4-5-20251101-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.anthropic.claude-opus-4-5-20251101-v1:0)
2026-01-06 20:04:36 - INFO -     global.anthropic.claude-opus-4-5-20251101-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/global.anthropic.claude-opus-4-5-20251101-v1:0)
2026-01-06 20:04:36 - INFO -     us.anthropic.claude-sonnet-4-5-20250929-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.anthropic.claude-sonnet-4-5-20250929-v1:0)
2026-01-06 20:04:36 - INFO -     us.anthropic.claude-opus-4-1-20250805-v1:0 (ARN: arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.anthropic.claude-opus-4-1-20250805-v1:0)
2026-01-06 20:04:47 - INFO -   Profile details: {'ResponseMetadata': {'RequestId': 'e15beebb-6fdf-4b49-872e-6192c4b1784c', 'HTTPStatusCode': 200, 'HTTPHeaders': {'date': 'Tue, 06 Jan 2026 11:04:47 GMT', 'content-type': 'application/json', 'content-length': '805', 'connection': 'keep-alive', 'x-amzn-requestid': 'e15beebb-6fdf-4b49-872e-6192c4b1784c'}, 'RetryAttempts': 0}, 'inferenceProfileName': 'US Anthropic Claude Sonnet 4.5', 'description': 'Routes requests to Anthropic Claude Sonnet 4.5 in us-east-1, us-east-2 and us-west-2.', 'createdAt': datetime.datetime(2025, 9, 27, 7, 1, 53, 787000, tzinfo=tzutc()), 'updatedAt': datetime.datetime(2025, 12, 17, 0, 58, 38, 184000, tzinfo=tzutc()), 'inferenceProfileArn': 'arn:aws:bedrock:us-west-2:262976740991:inference-profile/us.anthropic.claude-sonnet-4-5-20250929-v1:0', 'models': [{'modelArn': 'arn:aws:bedrock:us-east-1::foundation-model/anthropic.claude-sonnet-4-5-20250929-v1:0'}, {'modelArn': 'arn:aws:bedrock:us-east-2::foundation-model/anthropic.claude-sonnet-4-5-20250929-v1:0'}, {'modelArn': 'arn:aws:bedrock:us-west-2::foundation-model/anthropic.claude-sonnet-4-5-20250929-v1:0'}], 'inferenceProfileId': 'us.anthropic.claude-sonnet-4-5-20250929-v1:0', 'status': 'ACTIVE', 'type': 'SYSTEM_DEFINED'}
2026-01-06 20:04:47 - INFO -   Found inference profile using direct ID: us.anthropic.claude-sonnet-4-5-20250929-v1:0 (ARN: )
2026-01-06 20:04:47 - ERROR - 
2026-01-06 20:04:47 - ERROR - ============================================================
2026-01-06 20:04:47 - ERROR - Deployment Failed!
2026-01-06 20:04:47 - ERROR - ============================================================
2026-01-06 20:04:47 - ERROR - Error: No inference profile found
2026-01-06 20:04:47 - ERROR - Deployment time before failure: 0.46 minutes
2026-01-06 20:04:47 - ERROR - ============================================================
2026-01-06 20:04:47 - ERROR - Traceback (most recent call last):
  File "/Users/ksdyb/Documents/src/mcp/installer.py", line 3468, in main
    knowledge_base_id = create_knowledge_base_with_opensearch(opensearch_info, knowledge_base_role_arn, s3_bucket_name)
  File "/Users/ksdyb/Documents/src/mcp/installer.py", line 2551, in create_knowledge_base_with_opensearch
    raise Exception("No inference profile found")
Exception: No inference profile found

