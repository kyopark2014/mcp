2026-01-05 19:20:08 - INFO - ============================================================
2026-01-05 19:20:08 - INFO - Starting AWS Infrastructure Deployment
2026-01-05 19:20:08 - INFO - ============================================================
2026-01-05 19:20:08 - INFO - Project: mcp
2026-01-05 19:20:08 - INFO - Region: us-west-2
2026-01-05 19:20:08 - INFO - Account ID: 262976740991
2026-01-05 19:20:08 - INFO - Bucket Name: storage-for-mcp-262976740991-us-west-2
2026-01-05 19:20:08 - INFO - ============================================================
2026-01-05 19:20:08 - INFO - [1/9] Creating S3 bucket: storage-for-mcp-262976740991-us-west-2
2026-01-05 19:20:10 - INFO - ✓ S3 bucket created successfully: storage-for-mcp-262976740991-us-west-2
2026-01-05 19:20:10 - INFO - [2/9] Creating Knowledge Base IAM role
2026-01-05 19:20:11 - INFO - ✓ IAM role created: role-knowledge-base-for-mcp-us-west-2
2026-01-05 19:20:12 - INFO - [2/9] Creating Agent IAM role
2026-01-05 19:20:13 - INFO - ✓ IAM role created: role-agent-for-mcp-us-west-2
2026-01-05 19:20:14 - INFO - [2/9] Creating EC2 IAM role
2026-01-05 19:20:15 - INFO - ✓ IAM role created: role-ec2-for-mcp-us-west-2
2026-01-05 19:20:19 - INFO - [2/9] Creating Lambda RAG IAM role
2026-01-05 19:20:20 - INFO - ✓ IAM role created: role-lambda-rag-for-mcp-us-west-2
2026-01-05 19:20:21 - INFO - [2/9] Creating AgentCore Memory IAM role
2026-01-05 19:20:21 - INFO - ✓ IAM role created: role-agentcore-memory-for-mcp-us-west-2
2026-01-05 19:20:21 - INFO - [3/9] Creating Secrets Manager secrets
2026-01-05 19:20:21 - INFO - Please enter API keys when prompted (press Enter to skip and leave empty):
2026-01-05 19:20:22 - INFO - Enter credential of openweathermap-mcp (Weather API Key - OpenWeatherMap):
2026-01-05 19:20:49 - INFO -   ✓ Created secret: openweathermap-mcp
2026-01-05 19:20:49 - INFO - Enter credential of langsmithapikey-mcp (LangSmith API Key):
2026-01-05 19:20:59 - INFO -   ✓ Created secret: langsmithapikey-mcp
2026-01-05 19:21:00 - INFO - Enter credential of tavilyapikey-mcp (Tavily API Key):
2026-01-05 19:21:10 - INFO -   ✓ Created secret: tavilyapikey-mcp
2026-01-05 19:21:10 - INFO - Enter credential of perplexityapikey-mcp (Perplexity API Key):
2026-01-05 19:21:23 - INFO -   ✓ Created secret: perplexityapikey-mcp
2026-01-05 19:21:23 - INFO - Enter credential of firecrawlapikey-mcp (Firecrawl API Key):
2026-01-05 19:21:30 - INFO -   ✓ Created secret: firecrawlapikey-mcp
2026-01-05 19:21:30 - INFO - Enter credential of novaactapikey-mcp (Nova Act API Key):
2026-01-05 19:21:41 - INFO -   ✓ Created secret: novaactapikey-mcp
2026-01-05 19:21:41 - INFO - Enter credential of notionapikey-mcp (Notion API Key):
2026-01-05 19:21:50 - INFO -   ✓ Created secret: notionapikey-mcp
2026-01-05 19:21:50 - INFO - ✓ Created 7 secrets
2026-01-05 19:21:50 - INFO - [4/9] Creating OpenSearch Serverless collection
2026-01-05 19:21:57 - INFO -   Waiting for collection to be active (this may take a few minutes)...
2026-01-05 19:22:58 - INFO -   Waiting for collection to be active (this may take a few minutes)...
2026-01-05 19:22:58 - INFO - ✓ OpenSearch collection created: mcp
2026-01-05 19:22:58 - INFO -   Endpoint: https://31g6g9adim97bw3b8wn9.us-west-2.aoss.amazonaws.com
2026-01-05 19:22:58 - INFO - [5/9] Creating VPC and networking resources
2026-01-05 19:22:59 - WARNING - VPC already exists: vpc-0fc660d73dc7a242c
2026-01-05 19:23:00 - INFO - [6/9] Creating Application Load Balancer
2026-01-05 19:23:01 - ERROR - 
2026-01-05 19:23:01 - ERROR - ============================================================
2026-01-05 19:23:01 - ERROR - Deployment Failed!
2026-01-05 19:23:01 - ERROR - ============================================================
2026-01-05 19:23:01 - ERROR - Error: An error occurred (ValidationError) when calling the CreateLoadBalancer operation: At least two subnets in two different Availability Zones must be specified
2026-01-05 19:23:01 - ERROR - Deployment time before failure: 2.87 minutes
2026-01-05 19:23:01 - ERROR - ============================================================
2026-01-05 19:23:01 - ERROR - Traceback (most recent call last):
  File "/Users/ksdyb/Documents/src/mcp/installer.py", line 2209, in main
    alb_info = create_alb(vpc_info)
  File "/Users/ksdyb/Documents/src/mcp/installer.py", line 1478, in create_alb
    response = elbv2_client.create_load_balancer(
        Name=alb_name,
    ...<6 lines>...
        ]
    )
  File "/opt/homebrew/lib/python3.13/site-packages/botocore/client.py", line 602, in _api_call
    return self._make_api_call(operation_name, kwargs)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/lib/python3.13/site-packages/botocore/context.py", line 123, in wrapper
    return func(*args, **kwargs)
  File "/opt/homebrew/lib/python3.13/site-packages/botocore/client.py", line 1078, in _make_api_call
    raise error_class(parsed_response, operation_name)
botocore.exceptions.ClientError: An error occurred (ValidationError) when calling the CreateLoadBalancer operation: At least two subnets in two different Availability Zones must be specified

